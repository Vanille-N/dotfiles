# i3 config file
# Edited by Vanille-N from the autogenerated configuration file
# neven.villani@gmail.com
#
# See https://i3wm.org/docs/userguide.html for a complete reference

# Modifier is windows key
set $mod Mod4

# font for window titles
font pango: JetBrains Mono, NotoFontsEmoji 9

# Border size
for_window [class=".*"] border pixel 1

workspace_layout tabbed

# Border theme
# type                  border  bg      text    indic
client.focused          #b8bb26 #282828 #b8bb26 #000000   #b8bb26
client.focused_inactive #98971a #3c3836 #98971a #000000   #3c3836
client.unfocused        #3c3836 #282828 #504945 #000000   #282828
client.urgent           #cc241d #b16286 #020000 #000000   #300505
client.placeholder      #222103 #101000 #506020 #000000   #282828
client.background       #ffffff

# Mouse stays where it is
mouse_warping none
focus_follows_mouse no

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
# exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
# exec --no-startup-id nm-applet

# Adjust volume
bindsym XF86AudioRaiseVolume exec /usr/bin/amixer -c 0 set Master 0.2db+
bindsym XF86AudioLowerVolume exec /usr/bin/amixer -c 0 set Master 0.2db-
bindsym XF86AudioMute exec /usr/bin/amixer -D pulse set Master 1+ toggle

# Brightness control in default mode (see resize mode for more brightness control)
bindsym XF86MonBrightnessUp exec ~/bin/bright Up
bindsym XF86MonBrightnessDown exec ~/bin/bright Down

# Use $mod+Mouse to drag floating windows to their wanted position
floating_modifier $mod

# Start a terminal
bindsym $mod+Return exec alacritty
#bindsym $mod+Shift+Return exec xfce4-terminal
bindsym $mod+KP_Enter exec kitty
bindsym $mod+Shift+N exec alacritty --working-directory `xcwd`

# Take a screenshot
bindsym Print exec flameshot gui

# Kill focused window
bindsym $mod+w kill
bindsym $mod+BackSpace kill
bindsym $mod+Delete kill

# Program launcher
bindsym $mod+l exec --no-startup-id ~/.config/scripts/launcher/main.sh

# Open system menu
bindsym $mod+m exec --no-startup-id ~/.config/scripts/sysmenu/main.sh

# Control panels
bindsym $mod+c exec --no-startup-id ~/.config/scripts/controls/main.sh

# Move focus
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move window
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Change split orientation
bindsym $mod+h split h
bindsym $mod+v split v

# Enter fullscreen mode
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+n layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+g focus parent

# Multi-monitor management
set $monitor_main LVDS1
set $monitor_ext VGA1

# Workspace names
set $ws0 "0:<span font='InupiaqNumbers 12'></span>"
set $ws1 "1:<span font='InupiaqNumbers 12'></span>"
set $ws2 "2:<span font='InupiaqNumbers 12'></span>"
set $ws3 "3:<span font='InupiaqNumbers 12'></span>"
set $ws4 "4:<span font='InupiaqNumbers 12'></span>"
set $ws5 "5:<span font='InupiaqNumbers 12'></span>"
set $ws6 "6:<span font='InupiaqNumbers 12'></span>"
set $ws7 "7:<span font='InupiaqNumbers 12'></span>"
set $ws8 "8:<span font='InupiaqNumbers 12'></span>"
set $ws9 "9:<span font='InupiaqNumbers 12'></span>"
set $wsX "100:×"

# Workspace jump keys
set $k0 KP_0
set $k1 KP_1
set $k2 KP_2
set $k3 KP_3
set $k4 KP_4
set $k5 KP_5
set $k6 KP_6
set $k7 KP_7
set $k8 KP_8
set $k9 KP_9
set $kX KP_Decimal
set $k0alt KP_Insert
set $k1alt KP_End
set $k2alt KP_Down
set $k3alt KP_Next
set $k4alt KP_Left
set $k5alt KP_Begin
set $k6alt KP_Right
set $k7alt KP_Home
set $k8alt KP_Up
set $k9alt KP_Prior
set $kXalt KP_Del

# Bind workspaces to screens
workspace $ws0 output $monitor_ext
workspace $ws1 output $monitor_main
workspace $ws2 output $monitor_ext
workspace $ws3 output $monitor_main
workspace $ws4 output $monitor_ext
workspace $ws5 output $monitor_main
workspace $ws6 output $monitor_ext
workspace $ws7 output $monitor_main
workspace $ws8 output $monitor_ext
workspace $ws9 output $monitor_main

# Switch to workspace
bindsym $mod+Mod2+$k0 workspace $ws0
bindsym $mod+$k0alt workspace $ws0
bindsym $mod+Mod2+$k1 workspace $ws1
bindsym $mod+$k1alt workspace $ws1
bindsym $mod+Mod2+$k2 workspace $ws2
bindsym $mod+$k2alt workspace $ws2
bindsym $mod+Mod2+$k3 workspace $ws3
bindsym $mod+$k3alt workspace $ws3
bindsym $mod+Mod2+$k4 workspace $ws4
bindsym $mod+$k4alt workspace $ws4
bindsym $mod+Mod2+$k5 workspace $ws5
bindsym $mod+$k5alt workspace $ws5
bindsym $mod+Mod2+$k6 workspace $ws6
bindsym $mod+$k6alt workspace $ws6
bindsym $mod+Mod2+$k7 workspace $ws7
bindsym $mod+$k7alt workspace $ws7
bindsym $mod+Mod2+$k8 workspace $ws8
bindsym $mod+$k8alt workspace $ws8
bindsym $mod+Mod2+$k9 workspace $ws9
bindsym $mod+$k9alt workspace $ws9
bindsym $mod+Mod2+$kX workspace $wsX
bindsym $mod+$kXalt workspace $wsX

# Move focused container to workspace
bindsym $mod+Shift+Mod2+$k1alt move container to workspace $ws1
bindsym $mod+Shift+$k1alt move container to workspace $ws1
bindsym $mod+Shift+Mod2+$k2alt move container to workspace $ws2
bindsym $mod+Shift+$k2alt move container to workspace $ws2
bindsym $mod+Shift+Mod2+$k3alt move container to workspace $ws3
bindsym $mod+Shift+$k3alt move container to workspace $ws3
bindsym $mod+Shift+Mod2+$k4alt move container to workspace $ws4
bindsym $mod+Shift+$k4alt move container to workspace $ws4
bindsym $mod+Shift+Mod2+$k5alt move container to workspace $ws5
bindsym $mod+Shift+$k5alt move container to workspace $ws5
bindsym $mod+Shift+Mod2+$k6alt move container to workspace $ws6
bindsym $mod+Shift+$k6alt move container to workspace $ws6
bindsym $mod+Shift+Mod2+$k7alt move container to workspace $ws7
bindsym $mod+Shift+$k7alt move container to workspace $ws7
bindsym $mod+Shift+Mod2+$k8alt move container to workspace $ws8
bindsym $mod+Shift+$k8alt move container to workspace $ws8
bindsym $mod+Shift+Mod2+$k9alt move container to workspace $ws9
bindsym $mod+Shift+$k9alt move container to workspace $ws9
bindsym $mod+Shift+Mod2+$k0alt move container to workspace $ws0
bindsym $mod+Shift+$k0alt move container to workspace $ws0

# Reload the configuration file
bindsym $mod+Shift+c reload
# Restart i3 in-place
bindsym $mod+Shift+r restart

# Exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# Bind apps to workspaces
for_window [class="discord"] move window to workspace $ws9
for_window [class="Thunderbird"] move window to workspace $ws6
for_window [class="Evolution"] move window to workspace $ws6
for_window [class="Messenger"] move window to workspace $ws6
for_window [class="Clicker"] floating enable

# Resize windows
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym Left resize shrink width 5 px or 5 ppt
    bindsym Up resize grow height 5 px or 5 ppt
    bindsym Down resize shrink height 5 px or 5 ppt
    bindsym Right resize grow width 5 px or 5 ppt

    bindsym $mod+Left focus left
    bindsym $mod+Right focus right
    bindsym $mod+Up focus up
    bindsym $mod+Down focus down

    # back to normal: Enter or Escape or $mod+r
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"

    # resize mode also controls brightness
    bindsym plus exec ~/bin/bright Up
    bindsym minus exec ~/bin/bright Down
}

# Workspace bar + status bar
bar {
    separator_symbol "│"
    position bottom
    font pango: JetBrains Mono Bold 9
    strip_workspace_numbers yes
    #status_command i3status -c /home/vanille/.config/i3status/config
    status_command i3status-rs
    #status_command /home/vanille/bin/i3status-rust/target/release/i3status-rs
    tray_output none

     colors {
        background #1d2021
        statusline #1d1f21
        separator #665c54

        #                       border   background      text
        focused_workspace       #98971a  #b8bb26         #1d2021
        inactive_workspace      #665c54  #282828         #a89984
        urgent_workspace        #cc241d  #d79921         #550000
    }
}

# Notifications

exec --no-startup-id dunst
# Compositor
#exec_always --no-startup-id pkill picom; picom --config ~/.config/picom.conf

# Some more setup
exec_always bash /home/vanille/.config/env/xinitrc

# exec_always --no-startup-id ~/.config/polybar/launch.sh
# exec_always --no-startup-id pkill volumeicon; volumeicon
